<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<link rel ="stylesheet" href="../css/my.css">
<script src="../js/jquery-3.7.0.min.js"></script>
</head>
<body>
	<div class="box">
		<h3>비동기 방식 처리 post</h3>

		<div id="result4" class="result">
			<form>
				<label>이름</label>
				<input type="text" name="name" id="pName">
				<br>
				<label>나이<label>
				<input type="text" name="age" id="pAge">
				<br>
				
				<input type="button" value="전송" id="postBtn">
			</form>
		</div><!-- result4 -->
		<div class="postRes"></div> <!-- 결과 출력 -->
	</div><!-- box -->

<script>	
$('#postBtn').on('click', function(){
    
    //입력한 값 가져오기 - val
    let vName = $('#pName').val();
    let vAge = $('#pAge').val();
    /* 
    $.ajax({
       // 요청 
       url : './form데이터.jsp',
       //data : "name=" + vName + "&age=" + vAge,
       data : { "name" : vName, "age" : vAge },
       type : 'post',
       // 결과 
       success : function(res, a, b){
          code = "<p> 이름 : " + res.name + "</p>";
          code += "<p> 나이 : " + res.age + "</p>";
          $('.postRes').html(code);
       },
       error : function(xhr, x, y){
          alert("상태 : " + xhr.status)
       },
       // 결과 타입 
       dataType : 'json'
    })//ajax
     */
     
     $.post(
		 './form데이터.jsp',
		 { "name" : vName, "age" : vAge },
		 function(res, a, b){
		         code = "<p> 이름 : " + res.name + "</p>";
		         code += "<p> 나이 : " + res.age + "</p>";
		         $('.postRes').html(code);
		      },
		'json'
     )
 })

</script>
</body>
</html>