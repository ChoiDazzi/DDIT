<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>String 주민번호</title>
<link rel ="stylesheet" href="../css/my.css">
<script>
	proc1 = () => {
		// 입력 
		ssn = prompt("주민등록번호를 입력하세요. 예 ) 111111-1111111");
		// 각 자리별로 자르기
		yy = ssn.substr(0,2);
		mm = ssn.substr(2,2);
		dd = ssn.substr(4,2)
		gg = ssn.substr(7,1);
		// 성별 비교 
		if (gg == 1 || gg == 3) gender = "남자";
		else gender = "여자"; 
		// 년도 (2000 / 1900) 인지 비교 
		
		if (gg == 1 || gg == 2) {
			year = 1900 + parseInt(yy);
			//year = "19" + yy;
		} else year = 2000 + parseInt(yy);
				//year = "20" + yy;
		// 나이 계산 
		today = new Date();
		
		age = today.getFullYear() - year;
		
		//출력 내용 (주민번호(999999-2*******), 생년월일, 성별, 나이)
		code = ssn.substr(0,8);
		str = `주민등록번호 : ${code}****** <br>`;
		str += `생일 : ${year}년 ${mm}월 ${dd}일 <br>`;
		str += `성별 : ${gender} <br>`;
		str += `나이 : ${age + 1} <br>`;
		
		document.getElementById('result1').innerHTML = str;
	}
	
	proc2 = () => {
		multi = "234567892345";
		// 입력 
		input = prompt("주민등록번호를 입력하세요.");
		incode = input.replace("-","");
		
		sum = 0;
		for(i=0; i<multi.length; i++) {
			sum = incode.substr(i,1) * multi.substr(i,1);
		}
		console.log(input, incode,sum);
	}
</script>
</head>
<body>
	<div class="box">
		<h3>
			prompt로 주민등록번호를 입력 받아 생년월일과 성별, 나이를 출 력하는 프로그램을 작성하시오.
			<br>• 예) 주민등록번호를 110326-4432618로 입력 받은 경우
			<br>• 생일 : 2011년 3월 26일 
			<br>• 성별:여자
			<br>• 나이:12
		</h3>

		<input type="button" onclick="proc1()" value ="확인">
		<div id="result1" class="result"></div>
	</div>
	
	<div class="box">
		<h3>
			주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램
			<br>(ABCDEF-GHIJKLM)
			<br>1. A*2+B*3+...+H*9+I*2+...+L*5의총합을구한다.
			<br>2. 1번의 합을 11로 나눈 나머지를 구한다.
			<br>3. 11에서 2번의 결과를 뺀다.
			<br>4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환
			<br>5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다.
		</h3>

		<input type="button" onclick="proc2()" value ="확인">
		<div id="result2" class="result"></div>
	</div>

</body>
</html>