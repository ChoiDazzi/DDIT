<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/0502.css">
<style type="text/css">
#result1 {
	background-color: yellow;
}
</style>
</head>
<body>
	<div class="box">
		<h2>
			setTimeout(function(){}, millisec)<br>지정된 밀리초 경과 후 function()을
			실행한다
		</h2>
		<input type="button" onclick="proc1()" value="확인">
		<div id="result1" class="result"></div>
	</div>
	<div class="box">
		<h2>
			setInterval(function(){}, millisec)<br>지정된 밀리초 경과할 때마다
			function()을 실행한다<br>function()을 종료하려면 clearInterval(id변수)를 호출한다
		</h2>
		<input type="button" onclick="proc2()" value="확인" id="confirm">
		<input type="button" value="종료" onclick="stop()">
		<div id="result2" class="result"></div>
	</div>

	<script type="text/javascript">
		proc1 = () => {
			setTimeout(() => {
				// result1로 접근검색
				vres = document.querySelector("#result1");
				vres.style.backgroundColor = "pink";
			}, 500);
		}
		
		vid = null;
		proc2 = () => {
			vid = setInterval(() => { // 리턴값이 id가됨
				vres = document.querySelector("#result2");
			
				randomR = parseInt(Math.random() * 256);
				randomG = parseInt(Math.random() * 256);
				randomB = parseInt(Math.random() * 256);
				
				vres.style.backgroundColor = `rgb(${randomR},${randomG},${randomB})`;	
				console.log(vid);
			}, 500);
			
			if (vid == 1) {
				vbutton = document.querySelector("#confirm");
				vbutton.style.display = "none";
			}
		}
		
		stop = () => {
			clearInterval(vid);
		}
	</script>
</body>
</html>